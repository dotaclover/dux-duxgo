import{$ as l,ap as B}from"./vendor-refine-YO-08iKi.js";import{y as d}from"./modulepreload-polyfill-EV7mDuCf.js";import"./vendor-react-PEuRF1c_.js";import"./vendor-map-CE4d5YIX.js";import"./vendor-echarts-MrFpn7eE.js";import"./vendor-lib-BVPxUOb1.js";import"./vendor-tinymce-D1FYj-JL.js";const A=a=>{const{name:p,config:n}=d(),{data:o}=l();return{action:`${B()}/${p}/${n.apiPath.upload}`,headers:{Accept:"application/json",Authorization:(o==null?void 0:o.token)||""},formatResponse:t=>{var u,e,r,c,m,s;const h=t.XMLHttpRequest;if(h.status!=200){let i={};try{i=JSON.parse(h.response)}catch{}t.error=(i==null?void 0:i.message)||t.statusText}else t.url=(e=(u=t==null?void 0:t.data)==null?void 0:u[0])==null?void 0:e.url,t.name=(c=(r=t==null?void 0:t.data)==null?void 0:r[0])==null?void 0:c.name,t.size=(s=(m=t==null?void 0:t.data)==null?void 0:m[0])==null?void 0:s.size;return t},...a}},F=a=>{if(Math.abs(a)<1024)return a+" B";const n=["KB","MB","GB","TB","PB","EB","ZB","YB"];let o=-1;do a/=1024,++o;while(Math.abs(a)>=1024&&o<n.length-1);return a.toFixed(1)+" "+n[o]};export{F as h,A as u};
