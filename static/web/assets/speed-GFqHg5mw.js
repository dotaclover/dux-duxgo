import{j as e}from"./vendor-map-CE4d5YIX.js";import{v as S,Y as w,w as C}from"./modulepreload-polyfill-EV7mDuCf.js";import{r as a}from"./vendor-react-PEuRF1c_.js";import{A as N}from"./vendor-refine-YO-08iKi.js";import"./vendor-echarts-MrFpn7eE.js";import"./vendor-lib-BVPxUOb1.js";import"./vendor-tinymce-D1FYj-JL.js";import{I as h,c as E,Z as j,t as I,B as v}from"./vendor-tdesign-Bkc5HfQ6.js";import"./vendor-markdown-DBx9sqkl.js";const A=n=>{const s=N(),{request:p}=S(),{onClose:l}=w(),[d,f]=a.useState(window.location.hostname),[i,g]=a.useState([]),[r,c]=a.useState(!0),[m,u]=a.useState([]),[o,y]=a.useState(),[x,k]=a.useState("");return a.useEffect(()=>{c(!0),p("system/total/speed","get").then(t=>{g(t.data||[]),u(t.data||[]),y(t.meta||[])}).finally(()=>{c(!1)})},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:s("system.total.speed.domain")}),e.jsx("div",{children:e.jsx(h,{value:d,onChange:t=>f(t)})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:s("system.total.speed.line")}),r?e.jsx(E,{loading:!0,text:s("system.total.speed.loading"),size:"small"}):e.jsx(j.Group,{value:m,onChange:t=>u(t),children:i==null?void 0:i.map((t,b)=>e.jsx(j,{value:t,children:t},b))})]}),o&&!(o!=null&&o.token)&&e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:s("system.total.speed.token")}),e.jsx("div",{children:e.jsx(h,{value:x,onChange:t=>k(t)})}),e.jsxs("div",{className:"mt-2 text-placeholder",children:[s("system.total.speed.tokenDesc")," ",e.jsx(I,{theme:"primary",href:"https://www.cesu.net/user/index",target:"_blank",children:s("system.total.speed.tokenUrl")})]})]})]}),e.jsxs(C.Footer,{children:[e.jsx(v,{type:"button",variant:"outline",onClick:l,children:s("buttons.cancel")}),e.jsx(v,{type:"button",theme:"primary",loading:r,onClick:()=>{var t;l==null||l(),(t=n==null?void 0:n.onSpeedTest)==null||t.call(n,m,d,x)},children:s("buttons.submit")})]})]})};export{A as default};
