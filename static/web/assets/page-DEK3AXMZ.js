import{j as s}from"./vendor-map-CE4d5YIX.js";import{r as u}from"./vendor-react-PEuRF1c_.js";import{aw as B,A as D,z as L}from"./vendor-refine-YO-08iKi.js";import{y as z,M,W as P,X as g,j as A}from"./modulepreload-polyfill-EV7mDuCf.js";import"./vendor-echarts-MrFpn7eE.js";import"./vendor-lib-BVPxUOb1.js";import"./vendor-tinymce-D1FYj-JL.js";import{F as b,B as l,ae as E,af as G,ag as H,ah as S,N as V,ad as W}from"./vendor-tdesign-Bkc5HfQ6.js";const T=({className:i,title:c,children:d,onSubmit:n,onResult:x,back:v,rest:N,headerRender:k,actionRender:F,settingRender:f,formProps:C,form:w,...o})=>{const[e,y]=u.useState(),p=B(),t=D(),{resource:a}=L(),{name:j}=z(),[I,h]=u.useState(!1),[r]=b.useForm(w);return s.jsx(M,{title:c,header:k,actions:s.jsxs(s.Fragment,{children:[v&&s.jsx(l,{onClick:()=>{p()},variant:"outline",icon:s.jsx(E,{}),children:t("buttons.back")}),N&&s.jsx(l,{onClick:()=>{r.reset()},variant:"outline",icon:s.jsx(G,{}),loading:!!(e!=null&&e.formLoading),children:t("buttons.rest")}),F,f&&s.jsx(l,{variant:"outline",theme:"primary",icon:s.jsx(H,{}),onClick:()=>h(!0),children:t("buttons.setting")}),s.jsx(l,{onClick:()=>{r.submit()},loading:!!(e!=null&&e.formLoading),icon:s.jsx(S,{}),children:t("buttons.save")})]}),children:s.jsx(V,{className:i,children:s.jsxs(P,{form:r,onResult:m=>{x==null||x(m),y(m)},onSubmit:async m=>{await(n==null?void 0:n(m)),!(o!=null&&o.id)&&v&&p()},formProps:{labelAlign:"left",className:"divide-y divide-gray-2 dark:divide-gray-10",...C},...o,children:[s.jsx(g.Render,{mark:[j,a==null?void 0:a.name,"formBefore"]}),d,s.jsx(g.Render,{mark:[j,a==null?void 0:a.name,"form"]}),f&&s.jsxs(W,{sizeDraggable:!0,size:"450px",confirmBtn:t("buttons.save"),onConfirm:()=>{h(!1),r.submit()},header:t("buttons.setting"),visible:I,onClose:()=>h(!1),children:[f,s.jsx(g.Render,{mark:[j,a==null?void 0:a.name,"form","setting"]})]})]})})})},U=({label:i,help:c,requiredMark:d,...n})=>s.jsxs("div",{className:"grid grid-cols-1 mb-4 gap-4 pt-4 md:grid-cols-5",children:[i&&s.jsxs("div",{className:"col-span-2 xl:col-span-1",children:[s.jsxs("div",{className:"relative",children:[d&&s.jsx("span",{className:"absolute text-error -left-3",children:"*"}),i]}),s.jsx("div",{className:"mt-1 text-sm text-placeholder",children:c})]}),s.jsx("div",{className:A([i?"flex items-center col-span-3 xl:col-span-4":"col-span-5"]),children:s.jsx(b.FormItem,{...n,className:"w-full"})})]});export{T as F,U as a};
